### Базовая настройка
```
git --version
git help <cmd>                 # справка по команде
git config --global user.name "Ваше Имя"
git config --global user.email "you@example.com"
git config --global core.editor "code --wait"
git config --global init.defaultBranch main
git config --global pull.rebase false   # или true — на ваш процесс
git config --global alias.lg "log --oneline --graph --decorate --all"```
```
### Старт и статус
```
git init                       # инициализация репо
git clone <url>                # клонировать
git status                     # текущее состояние
git add <path>                 # индексировать изменения
git rm -r --cached .idea       # убрать из индекса до коммита
git restore --staged <path>    # убрать из индекса
git restore <path>             # вернуть файл из индекса/HEAD (отменить рабочие правки)
```
### Коммиты
```
git commit -m "msg"            # коммит из индекса
git commit -a -m "msg"         # добавить и закоммитить отслеживаемые файлы
git commit --amend             # переписать последний коммит (msg/содержимое)
git log                        # журнал
git lg                         # укороченный граф (из alias)
git show <commit>              # показать коммит/объект
git diff                       # рабочая копия ↔ индекс
git diff --staged              # индекс ↔ HEAD
git blame <file>               # кто и когда менял строки
```
### Ветвление и переключение
```
git branch                     # список локальных веток
git branch -r                  # удалённые ветки
git branch <name>              # создать ветку
git switch <name>              # перейти в ветку
git switch -c <name>           # создать и перейти
# (старый аналог) git checkout -b <name>
```
### Слияние и ребейз
```
git merge <branch>             # слить <branch> в текущую
git rebase <branch>            # переписать основание на <branch>
git rebase -i <base>           # интерактивный (squash/reword/drop)
git merge --abort              # отменить конфликтный merge
git rebase --abort             # отменить конфликтный rebase
git rebase --continue          # продолжить после решения конфликтов
```
### Удалённые репозитории
```
git remote -v
git remote add origin <url>
git fetch                      # получить ссылки/обновления без merge
git pull                       # fetch + merge (или rebase, зависит от настроек)
git push                       # отправить текущую ветку
git push -u origin <branch>    # зафиксировать апстрим
git push --force-with-lease    # аккуратно переписать удалённую (после rebase)
```

### Откаты и исправления
```
git checkout -- <file>         # (устар.) см. git restore
git restore <file>             # вернуть к версии из индекса/HEAD
git revert <commit>            # обратный коммит (без переписывания истории)
git reset --soft <commit>      # откатить HEAD, оставить индекс/раб.копию
git reset --mixed <commit>     # откатить HEAD+индекс (по умолчанию)
git reset --hard <commit>      # откатить всё (осторожно!)
git clean -dn                  # что будет удалено из неотслеживаемых
git clean -df                  # удалить неотслеживаемые файлы/папки
git reflog                     # история перемещений HEAD (спасение после ошибок)
```

### Диффы и сравнение
```
git diff <commit1> <commit2>   # разница между коммитами
git diff <branch1>..<branch2>  # разница веток
git diff --name-only           # только имена файлов
```