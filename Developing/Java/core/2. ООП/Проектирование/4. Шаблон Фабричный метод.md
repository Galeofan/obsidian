---
tags:
  - Проектирование
---
**Фабричный метод** – это порождающий паттерн проектирования, который определяет **общий интерфейс для создания объектов в суперклассе**, позволяя подклассам изменять тип создаваемых объектов.

<font color="#ff0000">Минусы:</font>
Можно заметить, что при Фабричном подходе код увеличился.  
Действительно применение этого паттерна может привести к созданию больших **параллельных иерархий классов**, так как для каждого класса продукта надо создать свой подкласс создателя. И это главный недостаток этого подхода.

<font color="#00b050">Плюсы:</font>
- **Избавление клиентского кода от привязки к конкретным классам продуктов.** Действительно, класс Canvas оперирует абстрактными понятиями ShapeOperator и Shape. То, что в конечном счёте будет построено определяется выбором пользователя в блоке if-else, но можно это сделать и через конфигурационный файл или переменную среды.

- **Выделяет код производства продуктов в одно место, упрощая поддержку кода.** В нашем случае это осуществлено через реализацию фабричного метода _createShape()_ в подклассах _TriangleOperator_ и _RectangleOperator._

- **Упрощает добавление новых продуктов в программу.** Допустим что мы захотим добавить поддержку фигуры Круг. Для этого достаточно создать продукт _Round_, реализующий интерфейс _Shape_ и реализовать для него фабричный метод, например, в классе _RoundOperator_. Далее можно спокойно передавать в действующий пользовательский код экземпляр этого класса-фабрики, так как он производит продукт типа _Shape_, который имеет методы _draw()_ и _square()_, а также реализует общую бизнес-логику: выводит общую информацию о заданной построенной фигуре с помощью метода _showInfo()._

- **Реализует принцип открытости/закрытости.** В нашем случае, мы можем сколько угодно модифицировать код создания существующих фигур и их методов, а также добавлять сколь угодно много новых фигур, реализующих интерфейс _Shape_. При этом это никак не отразится на пользовательском коде, оперирующем этими классами. Для него важно, что имеется фигура _Shape_, которую можно нарисовать и для которой можно найти площадь.

- Преимуществом фабричного метода по сравнению с использованием обычного конструктора является **возможность ограничения создания новых объектов и их повторного использования.** Такая проблема обычно возникает при работе с тяжёлыми ресурсоёмкими объектами, такими, как подключение к базе данных, файловой системе и т. д. В фабричном методе можно ограничить создание более чем одного экземпляра или дать возможность создавать новый экземпляр только при условии отсутствия уже созданных и неиспользуемых.