---
tags:
  - Проектирование
---
**Шаблон проектирования singleton** - это порождающий шаблон проектирования, который гарантирует, что в приложении может быть только один экземпляр некоторого класса, а также предоставляет глобальную точку доступа к этому экземпляру через отдельный метод.

Шаблон singleton применяют в проектах, где используются внешние ресурсы: файловая система, база данных, связь с другими приложениями.

В таких проектах доступ к ресурсу нужно ограничить использованием одного объекта на виртуальную машину.

Это позволяет экономить ресурсы системы.

Диаграмма шаблона.
![[imageTaskSource (1).png]]

Объекты А, В, С используют один и тот же объект singleton.

Чтобы избежать проблемы множественного использования объекта класса нужно:
1. Создать явно конструктор и указать у него модификатор private. Таким образом, никто не сможет создать объект этого класса.
2. Так же нужно запретить наследование этого класса. Для этого используем ключевое слово final.
3. Теперь мы можем создать объект этого класса только внутри самого класса
4. Чтобы предоставить ссылку на этот объект вводим новое private static поле класса
5. Добавляем public static метод, чтобы другие классы могли получить ссылку на объект Log4File

Каркас шаблона:
```java
package ru.job4j.tracker;

public final class Singleton {

    private static Singleton instance = null; <- ссылка на единственный объект класса Singleton

    private Singleton() { <- явно создаем закрытый конструктор.
    }

    public static Singleton getInstance() { <- статический метод. Он используется для публикации ссылки. 
        if (instance == null) {
            instance = new Singleton();
        }
        return instance;
    }
}
```