### На серваке
#### Настройки для нод
1) Задать желаемый DEBUG порт в скрипт запуска ноды
2) Задать в параметрах запуска JVM:
```bash
-agentlib:jdwp=transport=dt_socket,server=y,suspend=n,address=*:$DEBUG_PORT
```
#### Настройки для payara
Необходимо запустить payara в debug-режиме, для этого:
1) В domain.xml в параметрах запуска JVM задать JDWP порт
2) Выполнить (дэв) /opt/payara5/bin/asadmin stop-domain
3) Выполнить (дэв) /opt/payara5/bin/asadmin start-domain -d domain1 (Флаг -d это debug, обязательно стартануть с ним)
---
### Локально в Idea и MobaXterm
1) В мобе настроить проброс порта на JDWP порт удаленного JVM
   ![[Pasted image 20251101132435.png]]
2) В Idea `Run -> Edit configurations -> Add -> Remote jvm debug`
3) Подключиться к серваку по адресу **ОБЯЗАТЕЛЬНО** 172.16.68.86 по желаемому DEBUG-JDWP порту
![[Pasted image 20251101132358.png]]

#### DEBUG и JMX порты на ph-app-d01d и ph-app-test/ph-gate-test
![[Pasted image 20251104122910.png]]