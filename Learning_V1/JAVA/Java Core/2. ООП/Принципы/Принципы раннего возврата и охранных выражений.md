---
tags:
  - ООП
---
Суть **принципа раннего возврата** - если результат известен, то его нужно возвращать сразу. Причем возврат != return. Под возвратом подразумевается выход из метода, поэтому это может быть как return, так и throw.

**Принцип охранных выражений** идет рука об руку с принципом [[Принцип раннего возврата (early return pattern)]], т.к. предполагает предварительную проверку параметров и переменных до их фактического использования и остановку выполнения (например, через выброс исключения) метода. В отличие от первого принципа, этот принцип предполагает необходимость самой проверки. По сути, ошибка должна быть найдена на этапе валидации (проверки параметров и переменных), а не на этапе исполнения. Подобная практика позволяет быстро определять, была ли ошибка во входных данных, или же в самом алгоритме.

Условно, принцип раннего возврата = if + return, а принцип охранных выражений = if + throws. 

Нарушение этих принципов обычно сопровождается такими признаками, как:

1) Повышенная вложенность кода, которая достигается конструкциями if-else;

2) Локальные переменные, которые контролируют выполнение программы;

3) Отсутствуют проверки параметров (если они действительно необходимы).

**Выводы**
1. Если значения множества входных параметров метода как-то ограничены, то делаем валидацию в первую очередь через if + throws, основываясь на принципе охранных выражений;

2. Стараемся избегать лишних переменных и проверок, применяя принцип раннего возврата через if + return;

3. Вложенность конструкций if не должна превышать двух конструкций if() { if() {} }. В идеале одна конструкция;

4. Если метод учитывает различные ситуации, то стараемся их явно выделить, применяя принцип раннего возврата. Так другой программист поймет, какие кейсы Вы учли, а какие нет. Также Вы сами будете точно знать, с какой частью метода вам работать при решении той или иной задачи;

5. else лучше использовать только в тривиальных случаях.