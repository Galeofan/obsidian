#### На сервере сделать:
1) Задать в параметрах запуска JVM:
```bash
-Djava.rmi.server.hostname=$SERVER_IP \
-Dcom.sun.management.jmxremote \
-Dcom.sun.management.jmxremote.port=$JMX_PORT \
-Dcom.sun.management.jmxremote.rmi.port=$JMX_PORT \
-Dcom.sun.management.jmxremote.local.only=false \
-Dcom.sun.management.jmxremote.authenticate=false \
-Dcom.sun.management.jmxremote.ssl=false \
```

> [!info] 
> **$JMX ПОРТ (позволяет пользоваться только сэмплированием!!!)** 
> **$SERVER_IP = 127.0.0.1** 

---
#### Локально сделать:
1) Пробросить желаемый JMX порт
   ![[Pasted image 20251101160041.png]]
2) Запустить visualvm через CMD, иначе ругается: 
```bash
"C:\java\visualvm_22\bin\visualvm.exe" --jdkhome "C:\java\jdk-11.0.24"
```
2) В visualvm добавить **ЛОКАЛЬНОЕ** jmx подключение **!!!ОБЯЗАТЕЛЬНО!!!** через IP 172.16.68.86, а не localhost или 127.0.0.1
![[Pasted image 20251101160215.png]]