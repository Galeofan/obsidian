---
tags:
  - Collections
---
**Коллекции** - структуры данных (классы), позволяющие работать с наборами однотипных данных.

**Java Collection Framework** – это иерархия интерфейсов и реализаций, которая является частью JDK и позволяет программистам пользоваться большим количеством структур для хранения набора данных.

На вершине иерархии Java Collection Framework находятся 2 интерфейса:
1. Collection
2. Map

Эти интерфейсы разделяют все коллекции, входящие во в фреймворк, на 2 части по типу хранения данных:
- простые последовательные наборы элементов;
- наборы пар «ключ-значение».

**Collection** – этот интерфейс определен в JDK с версии 1.2 и описывает основные методы работы с простыми наборами элементов, которые будут общими для всех его реализаций (к примеру size(), isEmpty(), add(E e) и т.д.). Интерфейс несколько был доработан с появлением generic в версии 1.5. В версии Java 8 было добавлено несколько новых методов для работы с лямбдами и Stream (например, stream(), parallelStream() и т.д.)

**Map** – этот интерфейс также находится в составе JDK с версии 1.2 и предоставляет программисту базовые методы для работы с данными вида «ключ-значение». По аналогии с Collection этот интерфейс был дополнен generic в версии Java 1.5 и в версии Java 8 появились дополнительные методы для работы с лямбдами, а также методы, которые часто реализовывались в логике приложения (getOrDefault(), putIFAbsent()).

**Иерархия интерфейсов:**
![[imageTaskSource (2).png]]

Интерфейс Collection является базовым для всех коллекций, определяя их общий функционал. Однако стоит обратить внимание, что этот интерфейс расширяет интерфейс Iterable, поэтому <font color="#00b050">все объекты коллекций можно перебирать в так называемом улучшенном цикле for (for-each)</font>.

У интерфейса Iterable определен только один метод iterator(). Таким образом все наследники Collection (соответственно и Iterable) обязаны вернуть итератор. **Итератор** – это объект, который абстрагирует за единым интерфейсом доступ к элементам коллекции. К тому же итератор – это паттерн, который позволяет получить доступ к элементам любой коллекции без необходимости вникать в суть его реализации.

Также в интерфейсе определены абстрактные методы equals() и hashcode(), которые не вносят никаких дополнительных условий в контракт методов Object.equals() и Object.hashcode(). Первый предназначен для сравнения коллекций друг с другом, а второй возвращает хэш-код коллекции в виде значения типа int. Важно, что для коллекций c1 и c2 если выполняется условие c1.equals(c2), то должно выполняться и условие c1.hashcode == c2.hashcode.